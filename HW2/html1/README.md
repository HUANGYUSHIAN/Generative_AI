# 單字學習系統

這是一個完整的單字學習網頁應用程式，包含用戶管理、商店系統和優惠券功能。

## 功能特色

- 🔐 用戶註冊/登入系統
- 📚 單字複習功能（開發中）
- 📝 單字測驗功能（開發中）
- 🛒 商店系統（摸彩箱、單字解鎖）
- 🎫 優惠券管理系統
- 📱 響應式設計（支援電腦和手機）

## 安裝與運行

### 1. 安裝依賴
```bash
npm install
```

### 2. 啟動伺服器
```bash
npm start
```

### 3. 開發模式（自動重啟）
```bash
npm run dev
```

### 4. 開啟瀏覽器
- **本地訪問**：`http://localhost:3000`
- **區域網路訪問**：`http://100.75.34.107:3000`（其他人可通過此地址訪問）

### 5. 讓其他人連線
1. **區域網路訪問**：確保其他人連接到同一個Wi-Fi網路
2. **防火牆設置**：以管理員身份運行 `setup_firewall.bat`
3. **外網訪問**：使用ngrok等工具（詳見 `NETWORK_SETUP.md`）

## 專案結構

```
app/
├── server.js          # 主伺服器檔案
├── package.json       # 專案依賴配置
├── public/            # 前端檔案
│   ├── index.html     # 主頁面
│   ├── styles.css     # 樣式檔案
│   └── script.js      # 前端JavaScript
├── user/              # 用戶資料目錄
│   └── user.xlsx      # 用戶資料Excel檔案
├── company/           # 公司資料目錄
│   └── company.xlsx   # 摸彩箱獎品資料
└── images/            # 優惠券圖片目錄
```

## 使用說明

### 註冊新用戶
1. 點擊「立即註冊」
2. 填寫姓名、Email、手機、帳號名稱和密碼
3. 點擊註冊按鈕

### 登入系統
1. 輸入帳號名稱和密碼
2. 點擊登入按鈕

### 商店功能
- **摸彩箱**：使用10點抽取隨機獎品
- **單字解鎖**：使用5點隨機解鎖10個單字

### 優惠券系統
- 查看已獲得的優惠券
- 點擊優惠券查看對應圖片

## 資料庫結構

### user.xlsx 欄位
- 姓名
- email
- 手機
- 帳號名稱
- 密碼（加密）
- 解鎖的單字ID
- priority
- 點數
- 優惠券ID
- 使用期限

### company.xlsx 欄位
- ID
- 名稱
- 描述
- 類型
- 價值

## 技術規格

- **後端**：Node.js + Express
- **前端**：HTML5 + CSS3 + JavaScript
- **資料庫**：Excel檔案（使用xlsx套件）
- **密碼加密**：bcryptjs
- **響應式設計**：CSS Grid + Flexbox

## 注意事項

1. 首次運行會自動創建必要的Excel檔案
2. 優惠券圖片需要放在 `images/` 目錄下，檔名格式為 `company_{ID}.jpg`，其中ID對應company.xlsx中的ID
3. 系統預設端口為3000，可在環境變數中修改
4. 所有用戶資料都儲存在Excel檔案中，方便管理者查看
5. 優惠券系統會自動關聯摸彩箱獎品和對應的圖片檔案

## 開發者

如需修改或擴展功能，請參考 `server.js` 中的API路由和 `public/script.js` 中的前端邏輯。
